var __runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};const TcHmi=window.TcHmi;import{TcHmiControl,TcHmiRegion}from"Beckhoff.TwinCAT.HMI.Framework/index.esm.js";import{TcHmiBreadcrumb}from"../dist/TcHmiBreadcrumb.esm.js";let TcHmiNavigation=(()=>{var _a,_b,_c,_d,_e,_f,_g,_h,_j;let ___internalBreadcrumbCallback_decorators,___breadcrumbCallbackFunction_decorators,___onStaticMenuScroll_decorators,___onContextMenuScroll_decorators,___onResized_decorators,___onUserDataChanged_decorators,___onBackButtonPressed_decorators,___onBackButtonDown_decorators,___onBackButtonCancel_decorators,___onBackButtonEnter_decorators,___onRegionContentChanged_decorators,___onResolverForNavgiationStructureWatchCallback_decorators,___onResolverForTextColorWatchCallback_decorators,___onResolverForTextColorActiveWatchCallback_decorators,___onResolverForTextColorPressedWatchCallback_decorators,___onResolverForButtonBackgroundColorWatchCallback_decorators,___onResolverForButtonBackgroundColorActiveWatchCallback_decorators,___onResolverForButtonBackgroundColorPressedWatchCallback_decorators,_classSuper=TcHmiControl,_instanceExtraInitializers=[];return class TcHmiNavigation extends _classSuper{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(_classSuper[Symbol.metadata]??null):void 0;___internalBreadcrumbCallback_decorators=[(_a=TcHmi).CallbackMethod.bind(_a)],___breadcrumbCallbackFunction_decorators=[(_b=TcHmi).CallbackMethod.bind(_b)],___onStaticMenuScroll_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onContextMenuScroll_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onResized_decorators=[TcHmi.EventHandler()],___onUserDataChanged_decorators=[TcHmi.EventHandler()],___onBackButtonPressed_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onBackButtonDown_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onBackButtonCancel_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onBackButtonEnter_decorators=[TcHmi.EventHandler({checkAccess:"operate",checkIsEnabled:!0})],___onRegionContentChanged_decorators=[TcHmi.EventHandler()],___onResolverForNavgiationStructureWatchCallback_decorators=[(_c=TcHmi).CallbackMethod.bind(_c)],___onResolverForTextColorWatchCallback_decorators=[(_d=TcHmi).CallbackMethod.bind(_d)],___onResolverForTextColorActiveWatchCallback_decorators=[(_e=TcHmi).CallbackMethod.bind(_e)],___onResolverForTextColorPressedWatchCallback_decorators=[(_f=TcHmi).CallbackMethod.bind(_f)],___onResolverForButtonBackgroundColorWatchCallback_decorators=[(_g=TcHmi).CallbackMethod.bind(_g)],___onResolverForButtonBackgroundColorActiveWatchCallback_decorators=[(_h=TcHmi).CallbackMethod.bind(_h)],___onResolverForButtonBackgroundColorPressedWatchCallback_decorators=[(_j=TcHmi).CallbackMethod.bind(_j)],__esDecorate(this,null,___internalBreadcrumbCallback_decorators,{kind:"method",name:"__internalBreadcrumbCallback",static:!1,private:!1,access:{has:obj=>"__internalBreadcrumbCallback"in obj,get:obj=>obj.__internalBreadcrumbCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___breadcrumbCallbackFunction_decorators,{kind:"method",name:"__breadcrumbCallbackFunction",static:!1,private:!1,access:{has:obj=>"__breadcrumbCallbackFunction"in obj,get:obj=>obj.__breadcrumbCallbackFunction},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onStaticMenuScroll_decorators,{kind:"method",name:"__onStaticMenuScroll",static:!1,private:!1,access:{has:obj=>"__onStaticMenuScroll"in obj,get:obj=>obj.__onStaticMenuScroll},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onContextMenuScroll_decorators,{kind:"method",name:"__onContextMenuScroll",static:!1,private:!1,access:{has:obj=>"__onContextMenuScroll"in obj,get:obj=>obj.__onContextMenuScroll},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResized_decorators,{kind:"method",name:"__onResized",static:!1,private:!1,access:{has:obj=>"__onResized"in obj,get:obj=>obj.__onResized},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onUserDataChanged_decorators,{kind:"method",name:"__onUserDataChanged",static:!1,private:!1,access:{has:obj=>"__onUserDataChanged"in obj,get:obj=>obj.__onUserDataChanged},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onBackButtonPressed_decorators,{kind:"method",name:"__onBackButtonPressed",static:!1,private:!1,access:{has:obj=>"__onBackButtonPressed"in obj,get:obj=>obj.__onBackButtonPressed},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onBackButtonDown_decorators,{kind:"method",name:"__onBackButtonDown",static:!1,private:!1,access:{has:obj=>"__onBackButtonDown"in obj,get:obj=>obj.__onBackButtonDown},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onBackButtonCancel_decorators,{kind:"method",name:"__onBackButtonCancel",static:!1,private:!1,access:{has:obj=>"__onBackButtonCancel"in obj,get:obj=>obj.__onBackButtonCancel},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onBackButtonEnter_decorators,{kind:"method",name:"__onBackButtonEnter",static:!1,private:!1,access:{has:obj=>"__onBackButtonEnter"in obj,get:obj=>obj.__onBackButtonEnter},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onRegionContentChanged_decorators,{kind:"method",name:"__onRegionContentChanged",static:!1,private:!1,access:{has:obj=>"__onRegionContentChanged"in obj,get:obj=>obj.__onRegionContentChanged},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForNavgiationStructureWatchCallback_decorators,{kind:"method",name:"__onResolverForNavgiationStructureWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForNavgiationStructureWatchCallback"in obj,get:obj=>obj.__onResolverForNavgiationStructureWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForTextColorWatchCallback_decorators,{kind:"method",name:"__onResolverForTextColorWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForTextColorWatchCallback"in obj,get:obj=>obj.__onResolverForTextColorWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForTextColorActiveWatchCallback_decorators,{kind:"method",name:"__onResolverForTextColorActiveWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForTextColorActiveWatchCallback"in obj,get:obj=>obj.__onResolverForTextColorActiveWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForTextColorPressedWatchCallback_decorators,{kind:"method",name:"__onResolverForTextColorPressedWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForTextColorPressedWatchCallback"in obj,get:obj=>obj.__onResolverForTextColorPressedWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForButtonBackgroundColorWatchCallback_decorators,{kind:"method",name:"__onResolverForButtonBackgroundColorWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForButtonBackgroundColorWatchCallback"in obj,get:obj=>obj.__onResolverForButtonBackgroundColorWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForButtonBackgroundColorActiveWatchCallback_decorators,{kind:"method",name:"__onResolverForButtonBackgroundColorActiveWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForButtonBackgroundColorActiveWatchCallback"in obj,get:obj=>obj.__onResolverForButtonBackgroundColorActiveWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onResolverForButtonBackgroundColorPressedWatchCallback_decorators,{kind:"method",name:"__onResolverForButtonBackgroundColorPressedWatchCallback",static:!1,private:!1,access:{has:obj=>"__onResolverForButtonBackgroundColorPressedWatchCallback"in obj,get:obj=>obj.__onResolverForButtonBackgroundColorPressedWatchCallback},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}static#tchmiFQN="TcHmi.Controls.BaseTemplate."+this.name;constructor(element,pcElement,attrs){super(element,pcElement,attrs)}__elementTemplateRoot=__runInitializers(this,_instanceExtraInitializers);__elementNavigationRoot;__elementStaticRoot;__elementContextRoot;__elementStaticShadow;__elementContextShadow;__elementBackRoot;__activeElementId=null;__contextElementId=null;__targetRegion;__regionChangeEvent;__breadcrumb;__navigationStructure;__navigationButtonMap=new Map;__activeHistory=[];__buttonBack;__textColor;__textColorActive;__textColorPressed;__buttonBackgroundColor;__buttonBackgroundColorActive;__buttonBackgroundColorPressed;__textFontSize;__textFontSizeUnit;__iconHeight;__iconHeightUnit;__iconWidth;__iconWidthUnit;__staticMenuHeight;__staticMenuHeightUnit;__mouseDownButton;__elementIdCounter=0;__navigationOrientation;__keepLowestLevel;__showBreadcrumb;__contextBreadcrumb;__breadcrumbItems=[];__scrollbarStyle;__showBackButton;__newData=!0;__previnit(){if(this.__elementTemplateRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Template")[0],this.__elementNavigationRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Navigation")[0],this.__elementStaticRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Static")[0],this.__elementContextRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Context")[0],this.__elementStaticShadow=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Static-Shadow")[0],this.__elementContextShadow=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Context-Shadow")[0],this.__elementBackRoot=this.__element[0].getElementsByClassName("TcHmi_Controls_BaseTemplate_TcHmiNavigation-Back")[0],!(this.__elementTemplateRoot&&this.__elementNavigationRoot&&this.__elementStaticRoot&&this.__elementContextRoot&&this.__elementBackRoot))throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__targetRegion&&!this.__regionChangeEvent&&(this.__regionChangeEvent=TcHmi.EventProvider.register(this.__targetRegion.getId()+".onTargetContentReplaced",this.__onRegionContentChanged));const passiveEventOptions={passive:!0,capture:!1};this.__destroyOnDetach.push(TcHmi.EventProvider.registerDomEvent(document,"mouseup",this.__onMouseUp(),passiveEventOptions),TcHmi.EventProvider.registerDomEvent(document,"touchend",this.__onMouseUp(),passiveEventOptions),TcHmi.EventProvider.registerDomEvent(this.__elementStaticRoot,"scroll",this.__onStaticMenuScroll,passiveEventOptions),TcHmi.EventProvider.registerDomEvent(this.__elementContextRoot,"scroll",this.__onContextMenuScroll,passiveEventOptions),TcHmi.EventProvider.register("onUserDataChanged",this.__onUserDataChanged),TcHmi.EventProvider.register(this.getId()+".onResized",this.__onResized)),this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow),this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow),this.__setContentHeights()}__detach(){super.__detach()}destroy(){this.__keepAlive||(super.destroy(),this.__regionChangeEvent&&this.__regionChangeEvent(),this.__destroyContextMenu(),this.__destroyStaticMenu())}__createNavigation(){if(this.__elementStaticRoot.textContent="",this.__navigationStructure){for(let e of this.__navigationStructure){let navigationButton=this.__navigationButtonMap.get(e.id);if(navigationButton){navigationButton.tchmi_button&&(navigationButton.tchmi_button.destroy(),navigationButton.tchmi_button=void 0);for(let destroyer of navigationButton.events)destroyer();navigationButton.events=[]}this.__createNavButton(e);const button=this.__navigationButtonMap.get(e.id);button?.tchmi_button&&this.__elementStaticRoot.append(button.tchmi_button.getElement()[0])}if(null!==this.__activeElementId){let element=this.__navigationButtonMap.get(this.__activeElementId);element?.tchmi_button&&(element.tchmi_button.getElement().addClass("active"),element.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),element.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}this.__createContextMenu(),this.__createBackButton(),this.__updateIcons(),this.__setContentHeights(),this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow),this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow)}}__setRegionContent(element){void 0!==this.__targetRegion&&null!==this.__targetRegion&&element.content&&this.__targetRegion.setTargetContent(element.content)}__setContentHeights(){if(this.__staticMenuHeight&&this.__staticMenuHeightUnit&&this.__elementStaticRoot&&this.__elementContextRoot&&this.__elementNavigationRoot){let orientation="Horizontal"===this.__navigationOrientation?"width":"height";if("%"===this.__staticMenuHeightUnit)this.__elementStaticRoot.style[orientation]=this.__staticMenuHeight+"%",this.__elementContextRoot.style[orientation]=100-this.__staticMenuHeight+"%";else{let size="Horizontal"===this.__navigationOrientation?this.__elementNavigationRoot.clientWidth:this.__elementNavigationRoot.clientHeight;size>this.__staticMenuHeight&&(this.__elementStaticRoot.style[orientation]=this.__staticMenuHeight+"px",this.__elementContextRoot.style[orientation]=size-this.__staticMenuHeight+"px")}}const staticBCR=this.__elementStaticRoot.getBoundingClientRect();this.__elementStaticShadow.style.height=staticBCR.height+"px",this.__elementStaticShadow.style.width=staticBCR.width+"px";const contextBCR=this.__elementContextRoot.getBoundingClientRect();this.__elementContextShadow.style.height=contextBCR.height+"px",this.__elementContextShadow.style.width=contextBCR.width+"px","Vertical"===this.__navigationOrientation?this.__elementContextShadow.style.top=staticBCR.height+"px":this.__elementContextShadow.style.left=staticBCR.width+"px"}__createNavButton(element){let observeAccessId=element.id+":observe",operateAccessId=element.id+":operate",observeAccess=TcHmi.Access.checkAccess(this,observeAccessId),operateAccess=TcHmi.Access.checkAccess(this,operateAccessId);if(observeAccess){let navigationButton=this.__navigationButtonMap.get(element.id);navigationButton||(navigationButton={tchmi_button:void 0,events:[]},this.__navigationButtonMap.set(element.id,navigationButton)),navigationButton.tchmi_button=TcHmi.Controls.get(this.getId()+"."+element.id),navigationButton.tchmi_button||(navigationButton.tchmi_button=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.getId()+"."+element.id,null,this)),navigationButton.tchmi_button&&(TcHmi.Symbol.isSymbolExpression(element.name)?TcHmi.Binding.createEx(element.name,"setText",navigationButton.tchmi_button):navigationButton.tchmi_button.setText(element.name),navigationButton.tchmi_button.setTextFontSize(this.__textFontSize??null),navigationButton.tchmi_button.setTextFontSizeUnit(this.__textFontSizeUnit??null),this.__activeElementId===element.id?navigationButton.tchmi_button.setTextColor(this.__textColorActive??null):navigationButton.tchmi_button.setTextColor(this.__textColor??null),this.__activeElementId===element.id?navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??null):navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null),navigationButton.tchmi_button.setIsEnabled(operateAccess),navigationButton.tchmi_button.setVirtualControlRightMappings([{controlRight:"operate",virtualControlRight:element.id+":operate"}]),operateAccess&&(navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onPressed",this.__onMouseUp(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onMouseDown",this.__onNavButtonDown(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onTouchStart",this.__onNavButtonDown(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onMouseLeave",this.__onNavButtonCancel(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onTouchCancel",this.__onNavButtonCancel(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onTouchEnd",this.__onNavButtonCancel(element))),navigationButton.events.push(TcHmi.EventProvider.register(this.getId()+"."+element.id+".onMouseEnter",this.__onNavButtonEnter(element)))),this.__setIconDimensions(navigationButton.tchmi_button),element.id===this.__activeElementId?this.__setActiveIcon(element):this.__setNormalIcon(element))}}__createBackButton(){void 0===TcHmi.Controls.get(this.getId()+".__back")&&(this.__buttonBack=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.getId()+".__back",{"data-tchmi-text":"%l%Control::TcHmi.Controls.BaseTemplate.TcHmiNavigation::ButtonBack_Text%/l%","data-tchmi-text-font-size":this.__textFontSize,"data-tchmi-text-font-size-unit":this.__textFontSizeUnit},this),void 0!==this.__buttonBack&&this.__elementBackRoot.append(this.__buttonBack.getElement()[0]),this.__destroyOnDetach.push(TcHmi.EventProvider.register(this.getId()+".__back.onPressed",this.__onBackButtonPressed),TcHmi.EventProvider.register(this.getId()+".__back.onMouseDown",this.__onBackButtonDown),TcHmi.EventProvider.register(this.getId()+".__back.onMouseEnter",this.__onBackButtonEnter),TcHmi.EventProvider.register(this.getId()+".__back.onMouseLeave",this.__onBackButtonCancel),TcHmi.EventProvider.register(this.getId()+".__back.onTouchStart",this.__onBackButtonDown),TcHmi.EventProvider.register(this.getId()+".__back.onTouchCancel",this.__onBackButtonCancel),TcHmi.EventProvider.register(this.getId()+".__back.onTouchEnd",this.__onBackButtonCancel)))}__destroyStaticMenu(){if(this.__elementContextRoot.textContent="",this.__navigationStructure)for(let e of this.__navigationStructure){const navigationButton=this.__navigationButtonMap.get(e.id);if(navigationButton){for(let destroyer of navigationButton.events)destroyer();navigationButton.events=[],navigationButton.tchmi_button&&(navigationButton.tchmi_button.destroy(),navigationButton.tchmi_button=void 0)}}}__destroyContextMenu(){if(this.__contextBreadcrumb?.getElement()[0].remove(),this.__elementContextRoot.textContent="",!this.__navigationStructure||null===this.__activeElementId)return;let contextMenu=null;const activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId);if(activeElement?.subItem?.length)contextMenu=activeElement.subItem;else if(this.__keepLowestLevel&&activeElement){if(this.__navigationStructure.find(element=>element.id===this.__activeElementId))return;contextMenu=this.__getParentStructure(this.__navigationStructure,activeElement)}contextMenu?.length&&contextMenu.forEach(element=>{let navigationButton=this.__navigationButtonMap.get(element.id);if(navigationButton){for(let destroyer of navigationButton.events)destroyer();navigationButton.events=[],navigationButton.tchmi_button&&(navigationButton.tchmi_button.destroy(),navigationButton.tchmi_button=void 0)}})}__createContextMenu(){if(this.__elementContextRoot.textContent="",!this.__navigationStructure||null===this.__activeElementId||null===this.__contextElementId)return;const contextElement=this.__getItemById(this.__navigationStructure,this.__contextElementId);if(contextElement)if(this.__showBreadcrumb&&(this.__createInternalBreadcrumb(),this.__contextBreadcrumb&&this.__elementContextRoot.append(this.__contextBreadcrumb.getElement()[0])),contextElement.subItem)for(let e of contextElement.subItem){this.__createNavButton(e);const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button&&this.__elementContextRoot.append(navigationButton.tchmi_button.getElement()[0]),e.id===this.__activeElementId?(this.__setActiveIcon(e),navigationButton?.tchmi_button&&(navigationButton.tchmi_button.getElement()[0].classList.add("active"),navigationButton.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))):(this.__setNormalIcon(e),navigationButton?.tchmi_button&&(navigationButton.tchmi_button.getElement()[0].classList.remove("active"),navigationButton.tchmi_button.setTextColor(this.__textColor??null),navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null)))}else if(this.__keepLowestLevel){if(this.__navigationStructure.find(element=>element.id===this.__contextElementId))return;let parentStructure=this.__getParentStructure(this.__navigationStructure,contextElement);if(parentStructure)for(let e of parentStructure){this.__createNavButton(e);const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button&&this.__elementContextRoot.append(navigationButton.tchmi_button.getElement()[0]),e.id===this.__activeElementId?(this.__setActiveIcon(e),navigationButton?.tchmi_button&&(navigationButton.tchmi_button.getElement()[0].classList.add("active"),navigationButton.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))):(this.__setNormalIcon(e),navigationButton?.tchmi_button&&(navigationButton.tchmi_button.getElement()[0].classList.remove("active"),navigationButton.tchmi_button.setTextColor(this.__textColor??null),navigationButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null)))}}}__createInternalBreadcrumb(){if(!this.__navigationStructure||null===this.__contextElementId)return;this.__contextBreadcrumb||(this.__contextBreadcrumb=TcHmi.Controls.get(this.getId()+"_ContextBreadcrumb"),this.__contextBreadcrumb||(this.__contextBreadcrumb=TcHmi.ControlFactory.createEx("TcHmi.Controls.BaseTemplate.TcHmiBreadcrumb",this.getId()+"_ContextBreadcrumb",{"data-tchmi-height":"32","data-tchmi-text-font-size":"14"},this)));let contextElement=this.__getItemById(this.__navigationStructure,this.__contextElementId),breadcrumbItemId=this.__contextElementId;if(!contextElement?.subItem&&this.__keepLowestLevel&&contextElement){let parent=this.__getParent(this.__navigationStructure,contextElement);parent&&(breadcrumbItemId=parent.id)}if(this.__contextBreadcrumb){let bcItems=this.__getBreadcrumbItems(this.__navigationStructure,breadcrumbItemId,!1);bcItems&&this.__contextBreadcrumb.setBreadcrumbDataEx(bcItems,this.__internalBreadcrumbCallback)}}__internalBreadcrumbCallback(code){this.__contextElementId=code,this.__destroyContextMenu(),this.__createContextMenu()}__createBreadcrumb(){if(this.__breadcrumb&&this.__navigationStructure&&null!==this.__activeElementId){let bcItems=this.__getBreadcrumbItems(this.__navigationStructure,this.__activeElementId);bcItems&&this.__breadcrumb.setBreadcrumbDataEx(bcItems,this.__breadcrumbCallbackFunction)}}__breadcrumbCallbackFunction(code){if(!this.__navigationStructure)return;let item=this.__getItemById(this.__navigationStructure,code);item?.content&&this.__targetRegion?.setTargetContent(item.content)}__getBreadcrumbItems(baseElement,targetId,disableEmptyElement=!0){let breadcrumbData=[];for(let e of baseElement){if(e.id===targetId)return breadcrumbData.unshift({text:e.name,code:e.id,isEnabled:void 0!==e.content||!disableEmptyElement}),breadcrumbData;if(e.subItem){let result=this.__getBreadcrumbItems(e.subItem,targetId,disableEmptyElement);if(null!=result){for(let bc of result)breadcrumbData.push(bc);return breadcrumbData.unshift({text:e.name,code:e.id,isEnabled:void 0!==e.content||!disableEmptyElement}),breadcrumbData}}}return null}__setActiveElement(element){let activeElement=null;if(this.__navigationStructure&&null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),null!==this.__activeElementId&&this.__activeElementId!==element.id){const activeButton=this.__navigationButtonMap.get(this.__activeElementId);if(this.__destroyContextMenu(),element.content){this.__activeHistory.unshift(element.id),this.__activeHistory.length>50&&this.__activeHistory.pop(),activeElement&&this.__setNormalIcon(activeElement),activeButton?.tchmi_button&&(activeButton.tchmi_button.getElement().removeClass("active"),activeButton.tchmi_button.setTextColor(this.__textColor??null),activeButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null)),this.__activeElementId=element.id,this.__setRegionContent(element);const newActiveButton=this.__navigationButtonMap.get(element.id);newActiveButton?.tchmi_button&&(this.__setActiveIcon(element),newActiveButton.tchmi_button.getElement().addClass("active"),newActiveButton.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),newActiveButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}this.__contextElementId=element.id,this.__createContextMenu(),this.__setContentHeights(),this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow),this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow),this.__createBreadcrumb(),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadcrumbPath"})}else activeElement&&this.__setActiveIcon(activeElement)}__backAction(){if(this.__buttonBack&&(this.__buttonBack.setTextColor(this.__textColor??null),this.__buttonBack.setBackgroundColor(this.__buttonBackgroundColor??null),this.__buttonBack.getElement()[0].classList.remove("down")),!this.__navigationStructure||!this.__activeHistory||this.__activeHistory.length<2)return;let activeElement=null;if(null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),this.__destroyContextMenu(),activeElement&&this.__setNormalIcon(activeElement),this.__activeElementId){const activeButton=this.__navigationButtonMap.get(this.__activeElementId);activeButton?.tchmi_button&&(activeButton.tchmi_button.getElement().removeClass("active"),activeButton.tchmi_button.setTextColor(this.__textColor??null),activeButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null))}this.__activeElementId=this.__activeHistory[1],this.__contextElementId=this.__activeElementId;let newActiveElement=this.__getItemById(this.__navigationStructure,this.__activeHistory[1]);if(newActiveElement){this.__setRegionContent(newActiveElement),this.__setActiveIcon(newActiveElement);const newActiveButton=this.__navigationButtonMap.get(newActiveElement.id);newActiveButton?.tchmi_button&&(newActiveButton.tchmi_button.getElement().addClass("active"),newActiveButton.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),newActiveButton.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}this.__createContextMenu(),this.__setContentHeights(),this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow),this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow),this.__activeHistory.shift(),this.__createBreadcrumb(),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadcrumbPath"})}__searchForActiveContent(element){if(this.__targetRegion)for(let e of element){if(e.content===this.__targetRegion.getTargetContent())return void this.__setActiveElement(e);void 0!==e.subItem&&this.__searchForActiveContent(e.subItem)}}__getParentStructure(structure,childElement){for(let element of structure){if(element.id===childElement.id)return structure;if(element.subItem){let result=this.__getParentStructure(element.subItem,childElement);if(result)return result}}return null}__getParent(structure,childElement){let findParent=(item,id)=>{if(item.subItem)for(const subItem of item.subItem){if(subItem.id===id)return item;{const parent=findParent(subItem,id);if(parent)return parent}}return null};for(let item of structure){let parent=findParent(item,childElement.id);if(parent)return parent}return null}__getItemById(structure,id){for(let element of structure){if(element.id===id)return element;if(element.subItem){let result=this.__getItemById(element.subItem,id);if(result)return result}}return null}__setScrollData(element,displayeElement){"Vertical"===this.__navigationOrientation?element.clientHeight+element.scrollTop===element.scrollHeight?displayeElement.dataset.scroll=0===element.scrollTop?"none":"bottom":displayeElement.dataset.scroll=0===element.scrollTop?"top":"vertical-center":element.clientWidth+element.scrollLeft===element.scrollWidth?displayeElement.dataset.scroll=0===element.scrollLeft?"none":"right":displayeElement.dataset.scroll=0===element.scrollLeft?"left":"horizontal-center"}__onStaticMenuScroll(_event){this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow)}__onContextMenuScroll(_event){this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow)}__onResized(_event){this.__setContentHeights(),this.__setScrollData(this.__elementStaticRoot,this.__elementStaticShadow),this.__setScrollData(this.__elementContextRoot,this.__elementContextShadow)}__onUserDataChanged(_event){let observeAccess=TcHmi.Access.checkAccess(this,this.__activeElementId+":observe"),operateAccess=TcHmi.Access.checkAccess(this,this.__activeElementId+":operate");if((!observeAccess||!operateAccess)&&this.__navigationStructure)for(let element of this.__navigationStructure){const subObserveAccess=TcHmi.Access.checkAccess(this,element.id+":observe"),subOperateAccess=TcHmi.Access.checkAccess(this,element.id+":operate");if(subObserveAccess&&subOperateAccess){this.__setActiveElement(element);break}}this.__createNavigation(),this.__createBreadcrumb()}__setNormalIcon(element){const navigationButton=this.__navigationButtonMap.get(element.id);navigationButton?.tchmi_button&&(element.icon_n?(this.__setIcon(navigationButton.tchmi_button,element.icon_n),navigationButton.tchmi_button.getElement()[0].classList.add("icon")):navigationButton.tchmi_button.getElement()[0].classList.remove("icon"))}__setPressedIcon(element){const navigationButton=this.__navigationButtonMap.get(element.id);navigationButton?.tchmi_button&&(element.icon_p?(this.__setIcon(navigationButton.tchmi_button,element.icon_p),navigationButton.tchmi_button.getElement()[0].classList.add("icon")):element.icon_n?(this.__setIcon(navigationButton.tchmi_button,element.icon_n),navigationButton.tchmi_button.getElement()[0].classList.add("icon")):navigationButton.tchmi_button.getElement()[0].classList.remove("icon"))}__setActiveIcon(element){const navigationButton=this.__navigationButtonMap.get(element.id);if(!navigationButton?.tchmi_button)return;const icon_url=element.icon_a||element.icon_n;navigationButton.tchmi_button.getElement()[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiButton-template")[0].style.backgroundImage=icon_url?'url("'+tchmi_path(icon_url)+'")':"",navigationButton.tchmi_button.getElement()[0].classList.toggle("icon",!!icon_url)}__updateIcons(){if(!this.__navigationStructure)return;for(let element of this.__navigationStructure)if(element.id!==this.__activeElementId){this.__setNormalIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null))}else{this.__setActiveIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}let activeElement=null;if(null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),activeElement?.subItem?.length)for(let element of activeElement.subItem){this.__setNormalIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null))}else if(this.__keepLowestLevel&&activeElement){let parentStructure=this.__getParentStructure(this.__navigationStructure,activeElement);parentStructure&&this.__navigationStructure!==parentStructure&&parentStructure.forEach(element=>{if(element.id!==this.__activeElementId){this.__setNormalIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null))}else{this.__setActiveIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}})}this.__buttonBack&&this.__buttonBack.setTextColor(this.__textColor??null)}__setIcon(button,iconPath){button.getElement()[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiButton-template")[0].style.backgroundImage=iconPath?'url("'+tchmi_path(iconPath)+'")':""}__setIconDimensions(button){let width="";this.__iconWidth&&this.__iconWidthUnit&&(width=this.__iconWidth+this.__iconWidthUnit);let height="";this.__iconHeight&&this.__iconHeightUnit&&(height=" "+this.__iconHeight+this.__iconHeightUnit),button.getElement()[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiButton-template")[0].style.backgroundSize=width+height}getAccessConfig(){const currentAccessConfig=super.getAccessConfig();return this.__getSubRights(this.__navigationStructure??[],tchmi_clone_object(currentAccessConfig))}__getSubRights(elements,accessList){if(!elements)return accessList;for(const element of elements){if(element.accessRights)for(const elementAccessRight of element.accessRights)if(elementAccessRight){let curAccess={accessright:element.id+":"+elementAccessRight.accessright,group:elementAccessRight.group,permission:elementAccessRight.permission};accessList.push(curAccess)}if(element.subItem&&accessList){let accessListTmp=this.__getSubRights(element.subItem,accessList);accessListTmp&&(accessList=accessListTmp)}}return accessList}getDescriptionAccessByName(name){return name.includes(":")?{name,defaultValueInternal:!0}:null}__onMouseUp(element){return _event=>{if(this.__mouseDownButton=void 0,element&&this.getIsEnabled()&&TcHmi.Access.checkAccess(this,"operate"))if(element.id!==this.__activeElementId)this.__setActiveElement(element);else if(element.id!==this.__contextElementId){this.__contextElementId=element.id,this.__setActiveIcon(element);const activeButton=this.__navigationButtonMap.get(element.id);activeButton?.tchmi_button?.getElement().addClass("active"),this.__destroyContextMenu(),this.__createContextMenu()}}}__onNavButtonDown(element){return _event=>{if(!this.getIsEnabled())return;if(!TcHmi.Access.checkAccess(this,"operate"))return;const navigationButton=this.__navigationButtonMap.get(element.id);if(navigationButton?.tchmi_button&&(this.__mouseDownButton=navigationButton.tchmi_button),element.id!==this.__activeElementId){this.__setPressedIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColorPressed??this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorPressed??this.__buttonBackgroundColor??null))}}}__onNavButtonCancel(element){return _event=>{if(this.getIsEnabled()&&TcHmi.Access.checkAccess(this,"operate"))if(element.id!==this.__activeElementId){this.__setNormalIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColor??null))}else{this.__setActiveIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColorActive??this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null))}}}__onNavButtonEnter(element){return _event=>{if(this.getIsEnabled()&&TcHmi.Access.checkAccess(this,"operate")&&element.id!==this.__activeElementId){const navigationButton=this.__navigationButtonMap.get(element.id);if(this.__mouseDownButton&&this.__mouseDownButton===navigationButton?.tchmi_button){this.__setPressedIcon(element);let button=this.__navigationButtonMap.get(element.id);button?.tchmi_button&&(button.tchmi_button.setTextColor(this.__textColorPressed??this.__textColor??null),button.tchmi_button.setBackgroundColor(this.__buttonBackgroundColorPressed??this.__buttonBackgroundColor??null))}}}}__onBackButtonPressed(_event){this.__buttonBack&&(this.__backAction(),this.__buttonBack.setTextColor(this.__textColor??null),this.__buttonBack.setBackgroundColor(this.__buttonBackgroundColor??null))}__onBackButtonDown(_event){this.__buttonBack&&(this.__mouseDownButton=this.__buttonBack,this.__buttonBack.setTextColor(this.__textColorPressed??this.__textColor??null),this.__buttonBack.setBackgroundColor(this.__buttonBackgroundColorPressed??this.__buttonBackgroundColor??null))}__onBackButtonCancel(_event){this.__buttonBack&&(this.__buttonBack.setTextColor(this.__textColor??null),this.__buttonBack.setBackgroundColor(this.__buttonBackgroundColor??null))}__onBackButtonEnter(_event){this.__buttonBack&&this.__mouseDownButton===this.__buttonBack&&(this.__buttonBack.setTextColor(this.__textColorPressed??this.__textColor??null),this.__buttonBack.setBackgroundColor(this.__buttonBackgroundColorPressed??this.__buttonBackgroundColor??null))}__onRegionContentChanged(_event){let activeElement=null;this.__navigationStructure&&null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),activeElement&&this.__targetRegion&&this.__navigationStructure&&activeElement.content!==this.__targetRegion.getTargetContent()&&this.__searchForActiveContent(this.__navigationStructure)}setNavigationStructure(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("NavigationStructure"));let resolverInfo=this.__objectResolvers.get("navigationStructure");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy()),this.__newData=!0;let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("NavigationStructure")?.type});this.__objectResolvers.set("navigationStructure",{resolver,watchCallback:this.__onResolverForNavgiationStructureWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForNavgiationStructureWatchCallback)})}__onResolverForNavgiationStructureWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("navigationStructure"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__navigationStructure)||(this.__destroyContextMenu(),this.__destroyStaticMenu(),this.__navigationStructure=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavigationStructure"}),this.__processNavigationStructure()):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"NavigationStructure"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getNavigationStructure(){return this.__navigationStructure}__processNavigationStructure(){if(this.__elementIdCounter=0,this.__setNavElementId(this.__navigationStructure??[]),this.__newData){if(this.__newData=!1,this.__activeHistory.length&&(this.__activeHistory=[],this.__navigationStructure?.length&&this.__activeHistory.unshift(this.__navigationStructure[0].id)),this.__targetRegion&&this.__navigationStructure?.length){this.__targetRegion.getTargetContent()?this.__searchForActiveContent(this.__navigationStructure):this.__activeHistory.unshift(this.__navigationStructure[0].id)}this.__activeElementId=this.__navigationStructure?.[0]?.id??null}null===this.__activeElementId&&this.__navigationStructure?.length&&(this.__activeElementId=this.__navigationStructure[0].id),this.__createNavigation(),this.__createBreadcrumb(),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadcrumbPath"})}__setNavElementId(element){for(let e of element)e.id=this.__elementIdCounter.toString(),this.__elementIdCounter++,e.subItem&&this.__setNavElementId(e.subItem)}setTextColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextColor"));let resolverInfo=this.__objectResolvers.get("textColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("TextColor")?.type});this.__objectResolvers.set("textColor",{resolver,watchCallback:this.__onResolverForTextColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForTextColorWatchCallback)})}__onResolverForTextColorWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("textColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__textColor)||(this.__textColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextColor"}),this.__processTextColor()):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"TextColor"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getTextColor(){return this.__textColor}__processTextColor(){for(let[id,button]of this.__navigationButtonMap.entries())id===this.__activeElementId?button.tchmi_button?.setTextColor(this.__textColorActive??this.__textColor??null):button.tchmi_button?.setTextColor(this.__textColor??null);this.__buttonBack?.setTextColor(this.__textColor??null)}setTextColorActive(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextColorActive"));let resolverInfo=this.__objectResolvers.get("textColorActive");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("TextColorActive")?.type});this.__objectResolvers.set("textColorActive",{resolver,watchCallback:this.__onResolverForTextColorActiveWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForTextColorActiveWatchCallback)})}__onResolverForTextColorActiveWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("textColorActive"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__textColorActive)||(this.__textColorActive=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextColorActive"}),this.__processTextColor()):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"TextColorActive"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getTextColorActive(){return this.__textColorActive}setTextColorPressed(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextColorPressed"));let resolverInfo=this.__objectResolvers.get("textColorPressed");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("TextColorPressed")?.type});this.__objectResolvers.set("textColorPressed",{resolver,watchCallback:this.__onResolverForTextColorPressedWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForTextColorPressedWatchCallback)})}__onResolverForTextColorPressedWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("textColorPressed"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__textColorPressed)||(this.__textColorPressed=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextColorPressed"})):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"TextColorPressed"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}getTextColorPressed(){return this.__textColorPressed}setTargetRegion(valueNew){let convertedValue=valueNew instanceof TcHmiRegion?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TargetRegion")),convertedValue!==this.__targetRegion&&(this.__targetRegion=valueNew,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegion"}),this.__processTargetRegion())}getTargetRegion(){return this.__targetRegion}__processTargetRegion(){this.__targetRegion&&(this.__targetRegion&&(this.__regionChangeEvent=TcHmi.EventProvider.register(this.__targetRegion.getId()+".onTargetContentReplaced",this.__onRegionContentChanged)),this.__navigationStructure&&this.__setRegionContent(this.__navigationStructure[0]))}setBreadcrumb(valueNew){let convertedValue=valueNew instanceof TcHmiBreadcrumb?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Breadcrumb")),convertedValue!==this.__breadcrumb&&(this.__breadcrumb=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Breadcrumb"}),this.__processBreadcrumb())}getBreadcrumb(){return this.__breadcrumb}__processBreadcrumb(){this.__createBreadcrumb()}getBreadcrumbPath(){if(!this.__navigationStructure||null===this.__activeElementId)return[];let bcItems=this.__getBreadcrumbItems(this.__navigationStructure,this.__activeElementId);return bcItems?bcItems.map(item=>item.text):[]}setTextFontSize(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextFontSize")),convertedValue!==this.__textFontSize&&(this.__textFontSize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontSize"}),this.__processTextFontSize())}getTextFontSize(){return this.__textFontSize}__processTextFontSize(){if(void 0!==this.__textFontSize){if(this.__navigationStructure){for(let e of this.__navigationStructure){const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button?.setTextFontSize(this.__textFontSize)}let activeElement=null;if(null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),activeElement?.subItem)for(let e of activeElement.subItem){const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button?.setTextFontSize(this.__textFontSize)}}this.__buttonBack&&this.__buttonBack.setTextFontSize(this.__textFontSize)}}setTextFontSizeUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toFontSizeUnit(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TextFontSizeUnit")),convertedValue!==this.__textFontSizeUnit&&(this.__textFontSizeUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TextFontSizeUnit"}),this.__processTextFontSizeUnit())}getTextFontSizeUnit(){return this.__textFontSizeUnit}__processTextFontSizeUnit(){if(void 0!==this.__textFontSizeUnit){if(this.__navigationStructure){for(let e of this.__navigationStructure){const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button?.setTextFontSizeUnit(this.__textFontSizeUnit)}let activeElement=null;if(null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),activeElement?.subItem)for(let e of activeElement.subItem){const navigationButton=this.__navigationButtonMap.get(e.id);navigationButton?.tchmi_button?.setTextFontSizeUnit(this.__textFontSizeUnit)}}this.__buttonBack&&this.__buttonBack.setTextFontSizeUnit(this.__textFontSizeUnit)}}setIconWidth(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("IconWidth")),convertedValue!==this.__iconWidth&&(this.__iconWidth=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconWidth"}),this.__processIconWidth())}getIconWidth(){return this.__iconWidth}__processIconWidth(){this.__attributesInitialized&&this.__processIconDimensions()}setIconWidthUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toDimensionUnit(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("IconWidthUnit")),convertedValue!==this.__iconWidthUnit&&(this.__iconWidthUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconWidthUnit"}),this.__processIconWidthUnit())}getIconWidthUnit(){return this.__iconWidthUnit}__processIconWidthUnit(){this.__attributesInitialized&&this.__processIconDimensions()}setIconHeight(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("IconHeight")),convertedValue!==this.__iconHeight&&(this.__iconHeight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconHeight"}),this.__processIconHeight())}getIconHeight(){return this.__iconHeight}__processIconHeight(){this.__attributesInitialized&&this.__processIconDimensions()}setIconHeightUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toDimensionUnit(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("IconHeightUnit")),convertedValue!==this.__iconHeightUnit&&(this.__iconHeightUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconHeightUnit"}),this.__processIconHeightUnit())}getIconHeightUnit(){return this.__iconHeightUnit}__processIconHeightUnit(){this.__attributesInitialized&&this.__processIconDimensions()}__processIconDimensions(){if(this.__navigationStructure){for(let element of this.__navigationStructure){const navigationButton=this.__navigationButtonMap.get(element.id);navigationButton?.tchmi_button&&this.__setIconDimensions(navigationButton.tchmi_button)}let activeElement=null;if(null!==this.__activeElementId&&(activeElement=this.__getItemById(this.__navigationStructure,this.__activeElementId)),activeElement?.subItem)for(let element of activeElement.subItem){const navigationButton=this.__navigationButtonMap.get(element.id);navigationButton?.tchmi_button&&this.__setIconDimensions(navigationButton.tchmi_button)}}this.__buttonBack&&this.__setIconDimensions(this.__buttonBack)}setStaticMenuHeight(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StaticMenuHeight")),convertedValue!==this.__staticMenuHeight&&(this.__staticMenuHeight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StaticMenuHeight"}),this.__processStaticMenuHeight())}getStaticMenuHeight(){return this.__staticMenuHeight}__processStaticMenuHeight(){this.__isAttached&&this.__setContentHeights()}setStaticMenuHeightUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toDimensionUnit(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("StaticMenuHeightUnit")),convertedValue!==this.__staticMenuHeightUnit&&(this.__staticMenuHeightUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"StaticMenuHeightUnit"}),this.__processStaticMenuHeightUnit())}getStaticMenuHeightUnit(){return this.__staticMenuHeightUnit}__processStaticMenuHeightUnit(){this.__isAttached&&this.__setContentHeights()}setNavigationOrientation(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("NavigationOrientation")),convertedValue!==this.__navigationOrientation&&(this.__navigationOrientation=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavigationOrientation"}),this.__processNavigationOrientation())}getNavigationOrientation(){return this.__navigationOrientation}__processNavigationOrientation(){"Horizontal"===this.__navigationOrientation?this.__elementTemplateRoot.classList.add("horizontal"):this.__elementTemplateRoot.classList.remove("horizontal")}setKeepLowestLevel(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("KeepLowestLevel")),convertedValue!==this.__keepLowestLevel&&(this.__keepLowestLevel=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"KeepLowestLevel"}))}getKeepLowestLevel(){return this.__keepLowestLevel}setShowBreadcrumb(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ShowBreadcrumb")),convertedValue!==this.__showBreadcrumb&&(this.__showBreadcrumb=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowBreadcrumb"}))}getShowBreadcrumb(){return this.__showBreadcrumb}__processShowBreadcrumb(){this.__isAttached&&(this.__destroyContextMenu(),this.__createContextMenu())}setScrollbarStyle(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);if(null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ScrollbarStyle")),convertedValue!==this.__scrollbarStyle){if("None"===convertedValue)this.__scrollbarStyle=convertedValue;else this.__scrollbarStyle="Auto";TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ScrollbarStyle"}),this.__processScrollbarStyle()}}getScrollbarStyle(){return this.__scrollbarStyle}__processScrollbarStyle(){this.__elementNavigationRoot.classList.toggle("scrollbar-mode-none","None"===this.__scrollbarStyle)}setShowBackButton(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ShowBackButton")),convertedValue!==this.__showBackButton&&(this.__showBackButton=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowBackButton"}),this.__processShowBackButton())}getShowBackButton(){return this.__showBackButton}__processShowBackButton(){this.__elementBackRoot.classList.toggle("hidden",!this.__showBackButton)}
/**
         * Sets the background value and calls the associated process function.
         * @param valueNew
         * @preserve (Part of the public API)
         */setButtonBackgroundColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ButtonBackgroundColor"));let resolverInfo=this.__objectResolvers.get("buttonBackgroundColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("ButtonBackgroundColor")?.type});this.__objectResolvers.set("buttonBackgroundColor",{resolver,watchCallback:this.__onResolverForButtonBackgroundColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForButtonBackgroundColorWatchCallback)})}
/**
         * Returns the current background value.
         * @preserve (Part of the public API)
         */getButtonBackgroundColor(){return this.__buttonBackgroundColor}__onResolverForButtonBackgroundColorWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("buttonBackgroundColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__buttonBackgroundColor)||(this.__buttonBackgroundColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ButtonBackgroundColor"}),this.__processButtonBackgroundColor()):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"ButtonBackgroundColor"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}__processButtonBackgroundColor(){for(let[id,button]of this.__navigationButtonMap.entries())id===this.__activeElementId?button.tchmi_button?.setBackgroundColor(this.__buttonBackgroundColorActive??this.__buttonBackgroundColor??null):button.tchmi_button?.setBackgroundColor(this.__buttonBackgroundColor??null);this.__buttonBack?.setBackgroundColor(this.__buttonBackgroundColor??null)}
/**
         * Sets the background value and calls the associated process function.
         * @param valueNew
         * @preserve (Part of the public API)
         */setButtonBackgroundColorActive(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ButtonBackgroundColorActive"));let resolverInfo=this.__objectResolvers.get("buttonBackgroundColorActive");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("ButtonBackgroundColorActive")?.type});this.__objectResolvers.set("buttonBackgroundColorActive",{resolver,watchCallback:this.__onResolverForButtonBackgroundColorActiveWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForButtonBackgroundColorActiveWatchCallback)})}
/**
         * Returns the current background value.
         * @preserve (Part of the public API)
         */getButtonBackgroundColorActive(){return this.__buttonBackgroundColorActive}__onResolverForButtonBackgroundColorActiveWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("buttonBackgroundColorActive"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__buttonBackgroundColorActive)||(this.__buttonBackgroundColorActive=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ButtonBackgroundColorActive"}),this.__processButtonBackgroundColor()):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"ButtonBackgroundColorActive"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}
/**
         * Sets the background value and calls the associated process function.
         * @param valueNew
         * @preserve (Part of the public API)
         */setButtonBackgroundColorPressed(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ButtonBackgroundColorPressed"));let resolverInfo=this.__objectResolvers.get("buttonBackgroundColorPressed");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue,{parentControl:this,type:this.getAttributeDescription("ButtonBackgroundColorPressed")?.type});this.__objectResolvers.set("buttonBackgroundColorPressed",{resolver,watchCallback:this.__onResolverForButtonBackgroundColorPressedWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForButtonBackgroundColorPressedWatchCallback)})}
/**
         * Returns the current background value.
         * @preserve (Part of the public API)
         */getButtonBackgroundColorPressed(){return this.__buttonBackgroundColorPressed}__onResolverForButtonBackgroundColorPressedWatchCallback(data){this.__isAttached||this.__suspendObjectResolver("buttonBackgroundColorPressed"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__buttonBackgroundColorPressed)||(this.__buttonBackgroundColorPressed=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ButtonBackgroundColorPressed"})):TcHmi.Log.Controls.error(this,TcHmiNavigation.#tchmiFQN,{Attribute:"ButtonBackgroundColorPressed"},`Resolving symbols from object failed with error: ${TcHmi.Log.buildMessage(data.details)}`)}}})();export{TcHmiNavigation};TcHmi.Controls.registerEx("TcHmiNavigation","TcHmi.Controls.BaseTemplate",TcHmiNavigation,{injectInGlobalObject:!0});