var __runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};const TcHmi=window.TcHmi;import{TcHmiControl}from"Beckhoff.TwinCAT.HMI.Framework/index.esm.js";let TcHmiBurgerMenu=(()=>{let ___onPressed_decorators,___onThemeChanged_decorators,___onWindowResize_decorators,_classSuper=TcHmi.Controls.Beckhoff.TcHmiToggleButton,_instanceExtraInitializers=[];return class extends _classSuper{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(_classSuper[Symbol.metadata]??null):void 0;___onPressed_decorators=[TcHmi.EventHandler()],___onThemeChanged_decorators=[TcHmi.EventHandler()],___onWindowResize_decorators=[TcHmi.EventHandler()],__esDecorate(this,null,___onPressed_decorators,{kind:"method",name:"__onPressed",static:!1,private:!1,access:{has:obj=>"__onPressed"in obj,get:obj=>obj.__onPressed},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onThemeChanged_decorators,{kind:"method",name:"__onThemeChanged",static:!1,private:!1,access:{has:obj=>"__onThemeChanged"in obj,get:obj=>obj.__onThemeChanged},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onWindowResize_decorators,{kind:"method",name:"__onWindowResize",static:!1,private:!1,access:{has:obj=>"__onWindowResize"in obj,get:obj=>obj.__onWindowResize},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}static#tchmiFQN="TcHmi.Controls.BaseTemplate."+this.name;constructor(element,pcElement,attrs){super(element,pcElement,attrs)}__targetControl=__runInitializers(this,_instanceExtraInitializers);__targetControlContainer;__targetControlContainer_2;__targetControl_Parent;__targetControlSave=null;__dropdownboxOpen=!1;__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-Template"),!this.__elementTemplateRoot)throw new Error("Invalid Template.html");this.__targetControlContainer=document.createElement("div"),this.__targetControlContainer_2=document.createElement("div"),this.__targetControlContainer_2.classList.add("TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-container"),this.__targetControlContainer.appendChild(this.__targetControlContainer_2),super.__previnit()}__init(){super.__init()}__attach(){!this.__targetControl_Parent&&this.__targetControl&&this.__grabTargetControl(),this.__destroyOnDetach.push(TcHmi.EventProvider.register("onThemeDataChanged",this.__onThemeChanged),TcHmi.EventProvider.register(this.getId()+".onPressed",this.__onPressed)),super.__attach()}__detach(){super.__detach(),this.__dropdownboxOpen&&this.__setDropDownboxOpen(!1),this.__replaceTargetControl()}destroy(){this.__keepAlive||super.destroy()}__onPressed(_event){this.__setDropDownboxOpen()}__setDropDownboxOpen(valueNew){if(void 0===valueNew&&(valueNew=!this.__dropdownboxOpen),this.__targetControl)if(valueNew){this.__dropdownboxOpen=!0;let topMostLayerOptions={removeCb:data=>{this.__dropdownboxOpen=!1,data.canceled&&TcHmi.EventProvider.raise(this.__id+".onUserInteractionCanceled"),this.__toggleLock=!1,this.__processState(!1,!0,"userInteraction")},dimBackground:!0,modal:!0};window.addEventListener("resize",this.__onWindowResize),this.__targetControlContainer.appendChild(this.__targetControl?.getElement()[0]),TcHmi.TopMostLayer.add(this,this.__targetControlContainer,topMostLayerOptions),this.__setContainerSize(),this.__targetControl?.getElement()?.addClass("burger-menu-content-in-topmostlayer")}else this.closeMenu()}closeMenu(){window.removeEventListener("resize",this.__onWindowResize),this.__targetControl?.getElement()?.removeClass("burger-menu-content-in-topmostlayer"),TcHmi.TopMostLayer.remove(this,this.__targetControlContainer),this.__targetControl?.getElement()[0].remove()}__grabTargetControl(){if(!TCHMI_DESIGNER&&this.__targetControl){const element=this.__targetControl.getElement()[0];element?.remove(),this.__targetControl_Parent=this.__targetControl.getParent()?.getElement()}}__replaceTargetControl(){this.__targetControl_Parent&&this.__targetControl&&(this.__dropdownboxOpen&&TcHmi.TopMostLayer.remove(this,this.__targetControl.getElement()),this.__targetControl_Parent.append(this.__targetControl.getElement()),this.__targetControl_Parent=null)}__setContainerSize(){if(this.__targetControl){let controlBCR=this.__targetControl.getElement()[0].getBoundingClientRect(),width=controlBCR.width,height=controlBCR.height,top=controlBCR.top,bottom=controlBCR.bottom,left=controlBCR.left,right=controlBCR.right;this.__targetControlContainer_2.style.width=width+"px",this.__targetControlContainer_2.style.height=height+"px",this.__targetControlContainer_2.style.top=top+"px",this.__targetControlContainer_2.style.bottom=bottom+"px",this.__targetControlContainer_2.style.left=left+"px",this.__targetControlContainer_2.style.right=right+"px"}}__onThemeChanged(){this.__targetControlSave&&this.setTargetControl(this.__targetControlSave)}__onWindowResize(){this.__setContainerSize()}setTargetControl(valueNew){let convertedValue=valueNew instanceof TcHmiControl?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TargetControl")),convertedValue!==this.__targetControl&&(this.__targetControl&&this.__replaceTargetControl(),this.__targetControl=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetControl"}),this.__processTargetControl())}getTargetControl(){return this.__targetControl}__processTargetControl(){this.__targetControl?.getElement()?.parent()&&!this.__targetControl_Parent&&this.getIsAttached()&&this.getIsEnabled()&&this.__grabTargetControl()}}})();export{TcHmiBurgerMenu};TcHmi.Controls.registerEx("TcHmiBurgerMenu","TcHmi.Controls.BaseTemplate",TcHmiBurgerMenu,{injectInGlobalObject:!0});